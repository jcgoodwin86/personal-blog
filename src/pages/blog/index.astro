---
import BaseLayout from "../../layouts/BaseLayout.astro";
import BlogPostCard from "../../components/BlogPostCard.astro";
import { getPosts } from "../../scripts/fetcher";
// const allPosts = await Astro.glob("./posts/*.md");
const data = await getPosts(5);
const allPosts = data.publication.posts.edges;
const pageTitle = "My Learning Blog";
---

<!-- TODO setup to list all post from hashnode -->
<BaseLayout pageTitle={pageTitle}>
  {allPosts.map((post) => <BlogPostCard post={post} />)}
</BaseLayout>
