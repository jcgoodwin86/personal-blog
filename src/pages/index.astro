---
import BaseLayout from "../layouts/BaseLayout.astro";
import BlogPostCard from "../components/BlogPostCard.astro";
import { getAllPosts } from "../scripts/getAllPosts.js";

const data = await getAllPosts();
const pageTitle = data.publication.title;
const postsArr = data.publication.posts.edges;
---

<BaseLayout pageTitle={pageTitle}>
  {postsArr.map((post) => <BlogPostCard post={post} />)}
</BaseLayout>
